\NeedsTeXFormat{pLaTeX2e}
\ProvidesPackage{uw}[2019/4/27 created by Hogemura. Visit https://github.com/tetsu-osaka-physics/tetsu_physic for further help!]

%%%%%%%%%%%パッケージ奴%%%%%%%%%%%

\usepackage{ulem}

%%%%%%%%%%%uwの定義奴%%%%%%%%%%%
\makeatletter
\newif\iff@
\DeclareOption{f}{\f@true}
\ProcessOptions\relax
\makeatother

\makeatletter
\newdimen\@uwdim
\def\uw#1{
\ifmmode\settowidth{\@uwdim}{$#1$}\else\settowidth{\@uwdim}{#1}\fi
\ifdim\@uwdim<1em\@uwdim=1em\fi
\iff@
  \ifmmode\uwave{\hbox to\@uwdim{\hfil $#1$\hfil}}_\text{\f{}}
  \else$\uwave{\hbox to\@uwdim{\hfil #1\hfil}}_\text{\f{}}$
  \fi
\else
  \ifmmode\uwave{\hbox to\@uwdim{\hfil $#1$\hfil}}
  \else\uwave{\hbox to\@uwdim{\hfil #1\hfil}}
  \fi
\fi
}
\makeatother
